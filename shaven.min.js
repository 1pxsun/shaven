// Shaven 0.7.1 by Adrian Sieber (adriansieber.com)
shaven=function e(t,r,i){"use strict";function n(e){var t=e.match(/^\w+/),n=t?t[0]:"div",o=c.createElementNS(r,n),l=e.match(/#([\w-]+)/),s=e.match(/\$([\w-]+)/),f=e.match(/\.[\w-]+/g);return l&&(o.id=l[1],i[l[1]]=o),s&&(i[s[1]]=o),f&&o.setAttribute("class",f.join(" ").replace(/\./g,"")),e.match(/&$/g)&&(a=!0),o}function o(e,t){return null!==t&&t!==!1&&void 0!==t?"string"!=typeof t&&"object"!=typeof t?String(t):t:void 0}var a,l,s,f,c=document;if(i=i||{},r=r||"http://www.w3.org/1999/xhtml","string"==typeof t[0]&&(t[0]=n(t[0])),!(t[0]instanceof Element))throw new Error("First element of array must be either a string or a DOM element");for(f=1;f<t.length;f++){if(t[f]===!1||null===t[f]){t[0]=!1;break}if(void 0!==t[f]&&t[f]!==!0)if("string"==typeof t[f]||"number"==typeof t[f])a?t[0].innerHTML=t[f]:t[0].appendChild(c.createTextNode(t[f]));else if(Array.isArray(t[f]))Array.isArray(t[f][0])&&(t[f].reverse().forEach(function(e){t.splice(f+1,0,e)}),f++),e(t[f],r,i),t[f][0]&&t[0].appendChild(t[f][0]);else if("function"==typeof t[f])l=t[f];else if(t[f]instanceof Element)t[0].appendChild(t[f]);else{if("object"!=typeof t[f])throw new TypeError('"'+t[f]+'" is not allowed as a value.');for(s in t[f])t[f].hasOwnProperty(s)&&null!==t[f][s]&&t[f][s]!==!1&&(void 0===t[f][s]?t[0].setAttribute(s,""):"style"===s&&"object"==typeof t[f][s]?t[0].setAttribute(s,JSON.stringify(t[f][s],o).slice(2,-2).replace(/","/g,";").replace(/":"/g,":").replace(/\\"/g,"'")):t[0].setAttribute(s,t[f][s]))}}return i[0]=t[0],l&&l(t[0]),i};