// Shaven 0.4.0 by Adrian Sieber (adriansieber.com)
shaven=function e(t,r,n){"use strict";function i(e){var t=e.match(/^\w+/),i=t?t[0]:"div",o=f.createElementNS(r,i),l=e.match(/#([\w-]+)/),s=e.match(/\$([\w-]+)/),c=e.match(/\.[\w-]+/g);return l&&(o.id=l[1],n[l[1]]=o),s&&(n[s[1]]=o),c&&o.setAttribute("class",c.join(" ").replace(/\./g,"")),e.match(/&$/g)&&(a=!0),o}var a,o,l,s,f=document;for(n=n||{},r=r||"http://www.w3.org/1999/xhtml","string"==typeof t[0]&&(t[0]=i(t[0])),s=1;s<t.length;s++){if(t[s]===!1||null===t[s]){t[0]=!1;break}if(void 0!==t[s])if("string"==typeof t[s]||"number"==typeof t[s])a?t[0].innerHTML=t[s]:t[0].appendChild(f.createTextNode(t[s]));else if(Array.isArray(t[s]))e(t[s],r,n),t[s][0]&&t[0].appendChild(t[s][0]);else if("function"==typeof t[s])o=t[s];else if(t[s]instanceof Element)t[0].appendChild(t[s]);else{if("object"!=typeof t[s])throw new TypeError('"'+t[s]+'" is not allowed as a value.');for(l in t[s])t[s].hasOwnProperty(l)&&null!==t[s][l]&&t[s][l]!==!1&&(void 0===t[s][l]?t[0].setAttribute(l,""):t[0].setAttribute(l,t[s][l]))}}return n[0]=t[0],o&&o(t[0]),n};