<!DOCTYPE HTML>
<html>
<head>
	<meta charset=UTF-8>
	<title>Shaven</title>
	<link href=http://fonts.googleapis.com/css?family=Text+Me+One|Grand+Hotel
	      rel=stylesheet type=text/css />
	<link rel=stylesheet href=bower_components/codemirror/lib/codemirror.css />
	<link rel=stylesheet href=bower_components/codemirror/theme/twilight.css />
	<link rel=stylesheet href=css/screen.css />
	<link rel="shortcut icon" href="img/favicon.png?v=1"/>
</head>
<body>

<div id="wrapcontent">

	<header>
		<h1>Shaven</h1>

		<h2>Get rid of your old-fashioned face furniture and build sleek templates!</h2>
	</header>

	<section>

		<h1>What is Shaven?</h1>

		<p>Shaven is a DOM building utility and template engine based upon JsonML.
			This simple markup language lets you easily represent XML/HTML with JSON.
			Templates are therefore simply Javascript arrays.</p>

		<p><strong>All code examples with this icon are editable:</strong>
			<img src="img/edit-black-s.png" alt="edit"/></p>

		<textarea id=codeOverview class=code rows=12 data-lang=js>
			['div#demo',
				['h1#logo', 'Static Example', {style: 'color:blue'}],
				['p', 'some example text'],
				['ul#list.bullets',
					['li', 'item1'],
					['li.active', 'item2'],
					['li',
						['a', 'item3', {href: '#'}]
					]
				]
			]
		</textarea>

		<p>compiles to</p>

		<textarea id=codeOverviewOut class=code rows=12
		          data-lang=xml data-input=codeOverview readonly>
			<div id="demo">
				<h1 id="logo" style="color:blue">Static Example</h1>
				<p>some example text</p>
				<ul id="list" class="bullets">
					<li>item1</li>
					<li class="active">item2</li>
					<li>
						<a href="#">item3</a>
					</li>
				</ul>
			</div>
		</textarea>

		<p>The first element of the array is the root html element which
			is going to contain all the child-elements.
			Those are arrays themselves and are structured as follows:</p>

		<ul>
			<li>The first array-element is a string which represents
				the html-tag (including syntax-sugar)</li>
			<li>Other strings are the text-content of the element</li>
			<li>One or more Javascript objects contain the attributes</li>
			<li>Each sub-array or html-element is a child-element</li>
		</ul>
	</section>

	<section>

		<h1>Installation</h1>

		<p>On the server you can install Shaven with npm:</p>

		<textarea id=codeInstall class=code readonly>
			$ npm install shaven
		</textarea>


		<p>Then require it in your scripts like this:</p>

		<textarea id=codeRequire class=code data-lang=js readonly>
			var shaven = require('shaven')
		</textarea>

		<p>In the browser load the browser version of shaven
			(get it from <a href="https://github.com/adius/shaven">github</a>):</p>

		<textarea id=codeLoad class=code data-lang=xml readonly>
			<script src="shaven.js"></script>
		</textarea>


		<p>Now you can start using it by passing a JsonML-array to Shaven:</p>

		<textarea id="codeUse" data-lang="javascript" readonly>
			var shavenObject = shaven(['p', 'some text'])
		</textarea>

	</section>

	<section>
		<h1>Insert Methods</h1>

		<p>There are two different methods to insert a DOM-fragment into the DOM.</p>

		<p>Firstly you can inject it straight into the DOM:</p>

		<textarea class=code id=codeStraightInsert data-lang=js readonly>
			shaven(
				[document.body,
					['div#demo',
						…
					]
				]
			)
		</textarea>

		<p>Secondly you can assign the Shaven-object to a variable and append the fragment later.</p>

		<p>To get the HTML-fragment from the Shaven-object reference it with a <code>[0]</code>.</p>

		<textarea class=code id=codeAppend data-lang=js readonly>
			var shavenObject = shaven(
				['div#demo',
					…
				]
			)

			document.body.appendChild(shavenObject[0])
		</textarea>

		<p>Both compiles to:</p>

		<textarea class=code id=codeInsertOut data-lang=xml readonly>
			<body>
				<div id="demo">
					…
				</div>
			</body>
		</textarea>

	</section>

	<section>
		<h1>Syntax Sugar</h1>

		<h2>Id</h2>

		<textarea id=codeId data-lang=js>
			['p#example', 'example text']
		</textarea>

		<p>compiles to</p>

		<textarea id=codeIdOut data-input=codeId data-lang=xml readonly>
			<p id="example">example text</p>
		</textarea>


		<h2>Class</h2>

		<textarea id=codeClass data-lang=js>
			['p.info', 'example text']
		</textarea>

		<p>compiles to</p>

		<textarea id=codeClassOut data-input=codeClass data-lang=xml readonly>
			<p class="info">example text</p>
		</textarea>

	</section>

	<section>
		<h1>References</h1>

		<p>When an element with an id is created it automatically gets inserted
		into the return-object of the shaven function call.
		Therefore it can get easily referenced later on.</p>

		<textarea id="codeIdReference" rows="7" data-lang=js  readonly>
			var shavenObject = shaven(
				[document.body,
					['div#test', 'some text']
				]
			)

			doSomething(shavenObject.test)
		</textarea>

		<p>Reference an element without an id by using the <code>$</code> keyword
			to assign it a reference-name.</p>

		<textarea id="codeDollarReference" rows="7" data-lang=js  readonly>
			var shavenObject = shaven(
				[document.body,
					['div$test', 'some text']
				]
			)

			doSomething(shavenObject.test)
		</textarea>
	</section>

	<section>
		<h1>Properties</h1>

		<textarea id="codeProperties" rows="4" data-lang=js>
			['p', {
				class: 'first new focus',
				style: 'color:red',
				'data-lang': 'de'
			}, 'Hi']
		</textarea>

		<p>compiles to</p>

		<textarea id="codePropertiesOut" rows="1" data-input=codeProperties data-lang=xml readonly>
			<p class="first new focus" style="color:red" data-lang="de">Hi</p>
		</textarea>

	</section>

	<section>
		<h1>Escaping</h1>

		<p>HTML-strings are escaped by default.</p>

		<textarea id="codeEscape" rows="1" data-lang=js>
			['div', '<p>This is <em>HTML</em></p>']
		</textarea>

		<p>compiles to</p>

		<textarea id="codeEscapeOut" rows="1" data-input=codeEscape data-lang=xml readonly>
			<div>&amp;lt;p&amp;gt;This is &amp;lt;em&amp;gt;HTML&amp;lt;/em&amp;gt;&amp;lt;/p&amp;gt;</div>
		</textarea>

		<br/>

		<p>To disable escaping add a <code>&</code> at the end of the element-tag string.</p>

		<textarea id="codeNoEscape" rows="1" data-lang=js>
			['div&', '<p>This is <em>HTML</em></p>']
		</textarea>

		<p>compiles to</p>

		<textarea id="codeNoEscapeOut" rows="1" data-input=codeNoEscape data-lang=xml readonly>
			<div><p>This is <em>HTML</em></p></div>
		</textarea>

	</section>

	<section>
		<h1>Namespaces</h1>

		<p>Shaven supports different namespaces and makes it therefore possible to
			create SVGs, MathML and various other XML-based languages.</p>

		<textarea id="codeSvg" rows="1" data-lang=js readonly>
			shaven(
				['svg', {height: 10, width: 10},
					['circle', {cx: 5, cy: 5, r: 5, style: 'fill:green'}]
				],
				'http://www.w3.org/2000/svg'
			)
		</textarea>

		<p>compiles to</p>

		<textarea id="codeSvgOut" rows="1" data-lang=xml readonly>
			<svg height="10" width="10">
				<circle cx="5" cy="5" r="5" style="fill:green"></circle>
			</svg>
		</textarea>

	</section>

	<section>
		<h1>Callback Functions</h1>

		<p>You can provide a callback function,
			which will be called after the element has been created,
			with the element as the only argument.
			This functionality is especially suited to add event-listeners.</p>

		<textarea id=codeCallback data-lang=js readonly>
			function doSomething(element) {
				alert(element + ' was created')
			}

			shaven(
				[document.body,
					['div', doSomething]
				]
			)
		</textarea>
	</section>

	<footer>
		<a href="http://adriansieber.com">By Adrian Sieber</a>
		<span class="muted">•</span>
		<a href="https://github.com/adius/shaven">GitHub</a>
		<span class="muted">•</span>
		<a href="https://github.com/adius/shaven/issues">Issues</a>
		<span id="version">Version 0.3.0</span>
	</footer>
</div>

<a id="forkMe" href="https://github.com/adius/shaven">Fork me on GitHub</a>

<script type="text/javascript" src="shaven.min.js"></script>
<script type="text/javascript" src="bower_components/codemirror/lib/codemirror.js"></script>
<script type="text/javascript" src="bower_components/codemirror/mode/javascript/javascript.js"></script>
<script type="text/javascript" src="bower_components/codemirror/mode/xml/xml.js"></script>

<script type="text/javascript" src="js/index.js"></script>

</body>
</html>

